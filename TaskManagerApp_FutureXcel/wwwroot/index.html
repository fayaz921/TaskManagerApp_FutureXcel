<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Manager</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <style>
        body {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            min-height: 100vh;
            color: #333;
        }

        h2 {
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .card {
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            background: #fff;
            padding: 25px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .btn-primary, .btn-success {
            border-radius: 50px;
        }

        .table {
            background: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease-in-out;
        }

        .status-badge {
            padding: 5px 10px;
            border-radius: 12px;
            font-weight: bold;
            color: #fff;
        }

        .Pending {
            background-color: #f0ad4e;
        }

        .InProgress {
            background-color: #5bc0de;
        }

        .Completed {
            background-color: #5cb85c;
        }

        footer {
            color: #fff;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Toast notifications */
        #toastContainer {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1055;
        }

        .toast {
            min-width: 250px;
        }
    </style>
</head>
<body>

    <div class="container mt-5">
        <h2 class="text-center mb-5">Task Manager</h2>

        <!-- Task Form -->
        <div class="card mb-5">
            <input type="hidden" id="taskId">

            <div class="mb-3">
                <label class="form-label fw-bold">Title</label>
                <input type="text" id="title" class="form-control">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Description</label>
                <textarea id="description" class="form-control"></textarea>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Status</label>
                <select id="status" class="form-select">
                    <option value="Pending">Pending</option>
                    <option value="InProgress">In Progress</option>
                    <option value="Completed">Completed</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">Due Date</label>
                <input type="date" id="dueDate" class="form-control">
            </div>

            <div class="d-flex gap-2">
                <button class="btn btn-primary" id="saveTask">Save Task</button>
                <button class="btn btn-secondary d-none" id="cancelEdit">Cancel</button>
            </div>
        </div>

        <!-- Task List -->
        <table class="table table-hover text-center">
            <thead class="table-dark">
                <tr>
                    <th>Title</th>
                    <th>Status</th>
                    <th>Due Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="taskTable"></tbody>
        </table>

        <footer class="text-center mt-5">
            Built by Muhammad Fayaz
        </footer>
    </div>

    <!-- Toast container -->
    <div id="toastContainer"></div>

    <!-- App JS -->
    <script src="js/app.js"></script>

    <script>
        // Override getStatusText for color badges
        function getStatusText(status) {
            return `<span class="status-badge ${status}">${status.replace(/([A-Z])/g, ' $1').trim()}</span>`;
        }

        // Toast function
        function showToast(message, type = 'success') {
            let toastId = 'toast' + Date.now();
            let toastHtml = `
            <div id="${toastId}" class="toast align-items-center text-bg-${type} border-0 mb-2" role="alert" aria-live="assertive" aria-atomic="true">
              <div class="d-flex">
                <div class="toast-body">${message}</div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
              </div>
            </div>`;
            $('#toastContainer').append(toastHtml);
            let toastEl = new bootstrap.Toast(document.getElementById(toastId), { delay: 3000 });
            toastEl.show();
            toastEl._element.addEventListener('hidden.bs.toast', function () { $(this).remove(); });
        }
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
